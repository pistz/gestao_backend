// schema.prisma

// Definição da tabela 'Curso'
model Curso {
  id           String       @id @default(uuid())
  nome         String
  anoInicio    Int
  alunos       Aluno[]
  createdAt    DateTime     @default(now())
  modifiedAt   DateTime     @updatedAt
}

// Definição da tabela 'Aluno'
model Aluno {
  id           String       @id @default(uuid())
  register     Number       @unique //será o registro academico (RA) do aluno - deve ser gerado sequencialmente
  nome         String
  email        String       @unique
  presencas    ListaPresenca[]
  curso        Curso        @relation(fields: [cursoId], references: [id])
  cursoId      String
  createdAt    DateTime     @default(now())
  modifiedAt   DateTime     @updatedAt
}

// Definição da tabela 'ListaPresenca'
model ListaPresenca {
  id           String       @id @default(uuid())
  dataPresenca DateTime
  presente     Boolean
  aluno        Aluno        @relation(fields: [alunoId], references: [id])
  alunoId      String
  createdAt    DateTime     @default(now())
  modifiedAt   DateTime     @updatedAt
}

// Definição da tabela 'Usuario'
model Usuario {
  id           String       @id @default(uuid())
  nome         String
  email        String       @unique
  senha        String
  role         String       // Pode ser 'admin' ou 'user'. admin terá acesso de edição como secretaria, user será professor
  createdAt    DateTime     @default(now())
  modifiedAt   DateTime     @updatedAt
}
